{% extends "web/generic/listing.tmpl.html" %}
{% load wagtailadmin_tags %}

{% block listing %}
<table class="listing listing--inline-actions">
  <thead>
    <tr>
      <th scope="col">Domain</th>
      <th scope="col">Software</th>
      <th scope="col">Category</th>
      <th scope="col">Status</th>
      <th scope="col">Link</th>
    </tr>
  </thead>
  <tbody>
    {% for instance in object_list %}
    <tr>
      <td class="title">
        <div class="title-wrapper">
          <a href="{% url 'fediverser-core:instance-detail' domain=instance.domain %}">
            {{ instance.domain }}
          </a>
        </div>
      </td>
      <td>{{ instance.get_software_display }}</td>
      <td>{{ instance.category.name|default:"Not categorized yet" }}</td>
      <td>{{ instance.get_status_display }}</td>
      <td>
        <a href="{{ instance.url }}" target="_blank" class="button button--icon">
          <span class="icon-wrapper">
            <use>{% icon name="link-external" title=instance.domain %}</use>
          </span>
        </a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
